{"version":3,"sources":["../src/finder.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAIqB;AACnB,WADmB,MACnB,GAA0B;QAAd,gEAAU,kBAAI;;0BADP,QACO;;AACxB,oBAAO,OAAP,CAAe,aAAf,GAA+B,QAAQ,aAAR,IAAyB,KAAzB,CADP;AAExB,oBAAO,OAAP,CAAe,cAAf,GAAgC,QAAQ,cAAR,IAA0B,IAA1B,CAFR;;AAIxB,SAAK,OAAL,GAAe,OAAf,CAJwB;GAA1B;;eADmB;;yBAQd,MAAM;;;AACT,sBAAO,GAAP,CAAW,QAAX,gCAAiD,IAAjD,EADS;;AAGT,UAAI,aAAG,QAAH,CAAY,IAAZ,EAAkB,MAAlB,EAAJ,EAAgC;AAC9B,wBAAO,GAAP,CAAW,QAAX,mBAD8B;AAE9B,eAAO,QAAQ,OAAR,CAAgB,EAAhB,CAAP,CAF8B;OAAhC;;AAKA,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,0BAAI,OAAJ,CAAY,IAAZ,EAAkB,UAAC,GAAD,EAAM,OAAN,EAAkB;AAClC,gBAAK,UAAL,CAAgB,GAAhB,EAAqB,OAArB,EAA8B,OAA9B,EAAuC,MAAvC,EADkC;SAAlB,CAAlB,CADsC;OAArB,CAAnB,CARS;;;;+BAeA,KAAK,SAAS,SAAS,QAAQ;AACxC,UAAI,GAAJ,EAAS,OAAO,oCAAkC,GAAlC,CAAP,CAAT;;AAEA,sBAAO,GAAP,CAAW,QAAX,gBAAmC,OAAnC,EAHwC;AAIxC,aAAO,QAAQ,OAAR,CAAP,CAJwC;;;;SAvBvB","file":"finder.js","sourcesContent":["import dir from 'node-dir'\r\nimport fs from 'fs'\r\nimport logger from 'bragi'\r\n\r\nexport default class Finder {\r\n  constructor(options = {}) {\r\n    logger.options.groupsEnabled = options.groupsEnabled || false\r\n    logger.options.groupsDisabled = options.groupsDisabled || true\r\n\r\n    this.options = options\r\n  }\r\n\r\n  find(path) {\r\n    logger.log('Finder', `searching directories on ${path}`)\r\n\r\n    if (fs.statSync(path).isFile()) {\r\n      logger.log('Finder', `file detected`)\r\n      return Promise.resolve([])\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      dir.subdirs(path, (err, subdirs) => {\r\n        this.setSubDirs(err, subdirs, resolve, reject)\r\n      })\r\n    })\r\n  }\r\n\r\n  setSubDirs(err, subdirs, resolve, reject) {\r\n    if (err) return reject(`Finder#setSubDirs error ${err}`)\r\n\r\n    logger.log('Finder', `dirs found`, subdirs)\r\n    return resolve(subdirs)\r\n  }\r\n}\r\n"]}